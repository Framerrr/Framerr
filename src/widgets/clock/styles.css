/**
 * ClockWidget - Fluid Container Query-based Responsive Styles
 * 
 * Layout tiers (matching weather widget approach):
 * 
 * 1. SHORT HEIGHT (h=1)     → Inline: [Time] [Date · Timezone]
 * 2. WIDE + TALL (default)  → Flex row: [Time] [Date / Timezone stacked]
 * 3. NARROW + TALL          → Stacked: Time on top, date below, centered
 * 4. TALL + SKINNY          → Full vertical stack, centered
 * 5. COMPACT                → Hide date
 * 6. ULTRA COMPACT          → Time only
 * 
 * RULE: Never clip. Hide elements progressively rather than overflow.
 */

/* ============================================================================
 * Container Setup
 * ============================================================================ */

.clock-widget {
    container-type: size;
    container-name: clock;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    overflow: hidden;
}

/* ============================================================================
 * DEFAULT LAYOUT: Flex row (wide + tall containers)
 * [Time] [Date / Timezone stacked]
 * ============================================================================ */

.clock-widget__content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(6px, 3cqi, 24px);
    width: fit-content;
    max-width: 100%;
    flex-wrap: nowrap;
}

/* Time Display — primary element, always visible */
.clock-widget__time {
    font-size: clamp(1rem, min(12cqi, 50cqb), 4rem);
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1;
    white-space: nowrap;
    flex-shrink: 0;
}

/* Info section — stacks vertically by default */
.clock-widget__info {
    display: flex;
    flex-direction: column;
    gap: clamp(1px, 0.5cqi, 4px);
    min-width: 0;
}

/* Date text */
.clock-widget__date {
    font-size: clamp(0.5rem, 3cqi, 1rem);
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Timezone indicator */
.clock-widget__timezone {
    font-size: clamp(0.45rem, 2cqi, 0.75rem);
    color: var(--text-tertiary);
    white-space: nowrap;
    opacity: 0.7;
}

/* ============================================================================
 * TIER 1: SHORT HEIGHT (h=1) — everything inline
 * [Time] [Date · Timezone]
 * Matches weather widget's short-height approach
 * ============================================================================ */

@container clock (max-height: 70px) {
    .clock-widget__content {
        gap: clamp(6px, 2.5cqi, 20px);
    }

    .clock-widget__time {
        font-size: clamp(1.1rem, 40cqb, 2.2rem);
    }

    /* Info becomes single inline row */
    .clock-widget__info {
        flex-direction: row;
        align-items: baseline;
        gap: clamp(4px, 1cqi, 8px);
    }

    .clock-widget__date {
        font-size: clamp(0.6rem, 3cqi, 0.95rem);
        font-weight: 400;
        color: var(--text-secondary);
    }

    .clock-widget__timezone {
        font-size: clamp(0.55rem, 2.5cqi, 0.8rem);
    }
}

/* Short + narrow: hide timezone */
@container clock (max-height: 70px) and (max-width: 250px) {
    .clock-widget__timezone {
        display: none;
    }
}

/* Short + very narrow: hide date too */
@container clock (max-height: 70px) and (max-width: 150px) {
    .clock-widget__info {
        display: none;
    }
}

/* ============================================================================
 * TIER 2: STACKED LAYOUT — Narrow + Tall
 * Time on top, date below, centered
 * ============================================================================ */

@container clock (max-width: 400px) and (min-height: 71px) {
    .clock-widget__content {
        display: grid;
        grid-template-rows: auto auto;
        justify-content: center;
        justify-items: center;
        align-items: center;
        gap: clamp(2px, 1cqi, 8px);
        width: 100%;
    }

    .clock-widget__time {
        grid-row: 1;
        text-align: center;
        font-size: clamp(1.2rem, 14cqi, 2.5rem);
    }

    .clock-widget__info {
        grid-row: 2;
        align-items: center;
        text-align: center;
    }
}

/* ============================================================================
 * TIER 3: TALL + SKINNY — Full vertical stack
 * ============================================================================ */

@container clock (max-width: 200px) and (min-height: 120px) {
    .clock-widget__content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: clamp(2px, 2cqb, 8px);
        width: 100%;
    }

    .clock-widget__time {
        font-size: clamp(1.5rem, 25cqi, 3rem);
    }

    .clock-widget__info {
        align-items: center;
        text-align: center;
    }

    .clock-widget__date {
        font-size: clamp(0.65rem, 5cqi, 0.9rem);
    }

    .clock-widget__timezone {
        font-size: clamp(0.55rem, 4cqi, 0.75rem);
    }
}

/* ============================================================================
 * TIER 4: COMPACT — Very narrow, hide date
 * ============================================================================ */

@container clock (max-width: 150px) and (min-height: 71px) {
    .clock-widget__date {
        display: none;
    }
}

/* ============================================================================
 * TIER 5: ULTRA COMPACT — Time only
 * ============================================================================ */

@container clock (max-width: 100px) {
    .clock-widget__info {
        display: none;
    }
}